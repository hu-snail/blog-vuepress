{"remainingRequest":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/vuepress-theme-reco/components/Tag/index.vue?vue&type=style&index=0&id=315e1927&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/vuepress-theme-reco/components/Tag/index.vue","mtime":499162500000},{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/css-loader/index.js","mtime":1554890279328},{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujiangjun/Desktop/dev/blog-vuepress/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '../../styles/config.styl'\n@require '../../styles/wrapper.styl'\n\n.tags-wrapper\n  max-width: 740px;\n  margin: 0 auto;\n  padding: 0 2.5rem;\n  .tags\n    margin-bottom 30px\n    span\n      vertical-align: middle;\n      margin: 4px 4px 10px;\n      padding: 4px 8px;\n      display: inline-flex;\n      cursor: pointer;\n      border-radius: 2px;\n      background: #fff;\n      color: #fff;\n      font-size: 13px;\n      box-shadow 0 1px 4px 0 rgba(0,0,0,0.2)\n      transition: all .5s\n      &:hover\n        transform scale(1.04)\n      &.active\n        transform scale(1.2)\n\n@media (max-width: $MQMobile)\n  .tags-wrapper\n    padding: 0 0.6rem;\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vuepress-theme-reco/components/Tag","sourcesContent":["<template>\n  <div class=\"tags-wrapper\">\n    <div class=\"tags\">\n      <span \n        v-for=\"(item, index) in tags\" \n        :key=\"index\"\n        :class=\"{'active': item.tag == currentTag}\"\n        :style=\"{ 'backgroundColor': item.color }\"\n        @click=\"getPagesByTags(item.tag)\">{{item.tag}}</span>\n    </div>\n\n    <note-abstract\n      :data=\"pages\"\n      :currentPage=\"currentPage\"\n      :currentTag=\"currentTag\"\n      @currentTag=\"getCurrentTag\"></note-abstract>\n    \n    <pagation\n      :data=\"pages\" \n      :currentPage=\"currentPage\"\n      @getCurrentPage=\"getCurrentPage\"></pagation>\n  </div>\n</template>\n\n<script>\nimport NoteAbstract from '../NoteAbstract/'\nimport Pagation from '../Pagation/'\n\nexport default {\n\n  data () {\n    return {\n      pages: [],\n      tags: [],\n      currentTag: '',\n      currentPage: 1\n    }\n  },\n  props: {\n    tag: {\n      type: String,\n      default: ''\n    }\n  },\n  computed: {\n    trueCurrentTag () {\n      return this.currentTag\n    }\n  },\n  created () {\n    let pages = this.$site.pages,\n        hasTags = [],\n        newTags = []\n    pages.forEach(page => {\n      let tags = page.frontmatter.tags\n      if (tags) {\n        tags.forEach(tag => {\n          if (hasTags.indexOf(tag) == -1) {\n            hasTags.push(tag)\n            const color = this.tagColor()\n            newTags.push({\n              tag,\n              color\n            })\n          }\n        })\n        this.tags = newTags\n      }\n    })\n    this.currentTag = this.tag != '' ? this.tag : hasTags[0]\n    this.getPagesByTags(this.currentTag)\n  },\n  updated () {\n    this.currentPage = this.$page.currentPage\n  },\n  methods: {\n    // 根据分类获取页面数据\n    getPagesByTags (tag) {\n      this.$emit('tagChange')\n      let pages = this.$site.pages\n      this.currentTag = tag\n      pages = pages.filter(item => {\n        let tags = item.frontmatter.tags\n        return tags && item.frontmatter.tags.indexOf(tag) > -1\n      })\n      // reverse()是为了按时间最近排序排序\n      this.pages = pages.length == 0 ? [] : pages.reverse()\n      this.getCurrentPage(1);\n    },\n    getCurrentPage (page) {\n      this.currentPage = page\n      this.$page.currentPage = page\n    },\n    getCurrentTag (tag) {\n      this.currentTag = tag\n    },\n    tagColor () {\n      // 红、蓝、绿、橙、灰\n      const tagColorArr = ['#f26d6d', '#3498db', '#67cc86', '#fb9b5f', '#838282']\n      const index = Math.floor(Math.random() * tagColorArr.length)\n      return tagColorArr[index]\n    }\n  },\n  watch: {\n    currentTag (newTag) {\n      this.getPagesByTags(newTag)\n    }\n  },\n  components: {\n    NoteAbstract,\n    Pagation\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '../../styles/config.styl'\n@require '../../styles/wrapper.styl'\n\n.tags-wrapper\n  max-width: 740px;\n  margin: 0 auto;\n  padding: 0 2.5rem;\n  .tags\n    margin-bottom 30px\n    span\n      vertical-align: middle;\n      margin: 4px 4px 10px;\n      padding: 4px 8px;\n      display: inline-flex;\n      cursor: pointer;\n      border-radius: 2px;\n      background: #fff;\n      color: #fff;\n      font-size: 13px;\n      box-shadow 0 1px 4px 0 rgba(0,0,0,0.2)\n      transition: all .5s\n      &:hover\n        transform scale(1.04)\n      &.active\n        transform scale(1.2)\n\n@media (max-width: $MQMobile)\n  .tags-wrapper\n    padding: 0 0.6rem;\n</style>\n"]}]}